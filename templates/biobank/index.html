{% extends "components/base.html" %}

{% block page_title %}{{ page_title }}{% endblock %}

{% block page_content %}
<div class="biobank-splash-container">
    <div class="splash">
        <h1 class="splash-head" style="--webkit-text-stroke: 4px white; text-stroke:4px white; font-size:3em;color:white;">Biorepository Services</h1>
    </div>
</div>
<div class="content-wrapper">
    <div class="content">
        <h2 class="content-head is-center">Advancing Neurological Research Through High-Quality Biospecimens</h2>            
        <div class="pure-g">
            <div class="l-box pure-u-1 pure-u-md-1-2">
                <h3 class="content-subhead">
			Biospecimen Collection, Processing, and Custodianship
                </h3>
                <p>
                    We support groundbreaking neurological research by providing high-quality, 
well-characterized biospecimens to scientists and clinicians worldwide. Our state-of-the-art facility specializes in the 
collection, processing, and long-term storage of blood and cerebrospinal fluid (CSF) from both healthy donors and 
individuals with neurological conditions.
                </p> 
            </div>
	
            <div class="l-box pure-u-1 pure-u-md-1-2">
                <h3 class="content-subhead">
		    <a href="{{ url_for('biobankteam') }}">
                    Biorepository Staff</a>
                </h3>
                <p>
                    With deep expertise in specimen handling, data integrity, and ethical research practices, our staff ensures every sample is collected, preserved, and managed to the highest standards. Their commitment fuels groundbreaking studies and supports the future of personalized medicine.
                </p>
            </div>
        </div>
	</div>
    <hr>
    <!-- Data dashboard -->
    <div class="pure-g">
        <div class="pure-u-1 filter-section">
            <form class="pure-form pure-form-stacked">
                <div class="pure-g">
                    <div class="pure-u-1 pure-u-md-1-3 filter-container"><label for="clinic-filter">Referring Clinic</label><select id="clinic-filter" class="filter-dropdown"></select></div>
                    <div class="pure-u-1 pure-u-md-1-3 filter-container"><label for="race-filter">Race</label><select id="race-filter" class="filter-dropdown"></select></div>
                    <div class="pure-u-1 pure-u-md-1-3 filter-container"><label for="ethnicity-filter">Ethnicity</label><select id="ethnicity-filter" class="filter-dropdown"></select></div>

                    <div class="pure-u-1 center-container-content">
                        <div class="slider-wrapper">
                            <label>Date Range</label>
                            <div id="date-slider-container"></div>
                            <div class="slider-labels">
                                <span id="slider-start-date"></span>
                                <span id="slider-end-date"></span>
                            </div>
                        </div>
                    </div>

                    <div class="pure-u-1 kpi-section">
                        <div class="pure-g">
                            <div class="pure-u-1 pure-u-md-1-3"><div class="kpi-box"><h2>Total Participants</h2><p id="total-participants">0</p></div></div>
                            <div class="pure-u-1 pure-u-md-1-3"><div class="kpi-box"><h2>Patients with Samples</h2><p id="total-patients-with-samples">0</p></div></div>
                            <div class="pure-u-1 pure-u-md-1-3"><div class="kpi-box"><h2>Total Clinics</h2><p id="total-clinics">0</p></div></div>
                        </div>
                    </div>

                    <div class="pure-u-1 pure-u-lg-1-2 chart-container"><canvas id="monthly-visits-chart"></canvas></div>
                    <div class="pure-u-1 pure-u-lg-1-2 chart-container"><canvas id="collection-types-chart"></canvas></div>
                    <div class="pure-u-1 pure-u-lg-1-3 chart-container"><canvas id="sex-chart"></canvas></div>
                    <div class="pure-u-1 pure-u-lg-1-3 chart-container"><canvas id="race-chart"></canvas></div>
                    <div class="pure-u-1 pure-u-lg-1-3 chart-container"><canvas id="ethnicity-chart"></canvas></div>
                    <div class="pure-u-1 pure-u-lg-2-3 chart-container"><canvas id="sample-availability-chart"></canvas></div>
                    <div class="pure-u-1 pure-u-lg-1-3 chart-container"><canvas id="clinic-participants-chart"></canvas></div>
                </div>
            </form>
        </div>
    </div>

    <!-- Sample information request form -->
{#    <div class="wrapper">#}
{#            <div class="form-container pure-u-1 pure-u-md-3-4">#}
{#                <h1 class="form-title">WNBR Sample Availability Request Form</h1>#}
{##}
{#                <form class="pure-form pure-form-stacked">#}
{#                    <fieldset>#}
{#                        <!-- Basic Request Information -->#}
{##}
{#                        <div class="pure-g">#}
{#                            <div class="pure-u-1 pure-u-md-1-2">#}
{#                                <div class="form-group" style="padding-right: 1em;">#}
{#                                    <label for="requester-name" class="required">Requester Name</label>#}
{#                                    <input id="requester-name" type="text" class="pure-input-1" required>#}
{#                                </div>#}
{#                            </div>#}
{##}
{#                            <div class="pure-u-1 pure-u-md-1-2">#}
{#                                <div class="form-group">#}
{#                                    <label for="requester-email" class="required">Email Address</label>#}
{#                                    <input id="requester-email" type="email" class="pure-input-1" required>#}
{#                                </div>#}
{#                            </div>#}
{#                        </div>#}
{##}
{#                        <!-- Cohort Selection -->#}
{#                        <h3 class="section-heading">Subject/Cohort Information</h3>#}
{##}
{#                        <div class="form-group">#}
{#                            <label for="cohort-type" class="required">Subject Cohort Type</label>#}
{#                            <select id="cohort-type" class="pure-input-1" >#}
{#                                <option value="" disabled selected>Select cohort type</option>#}
{#                                <option value="single-subject">Single Subject</option>#}
{#                                <option value="multi-subject">Multi-Subject Cohort</option>#}
{#                            </select>#}
{#                        </div>#}
{##}
{#                        <div class="form-group">#}
{#                            <label for="study-source" class="required">Study Source</label>#}
{#                            <select id="study-source" class="pure-input-1" required>#}
{#                                <option value="" disabled selected>Select study to draw samples from</option>#}
{#                                <option value="study-a">Genetics Susceptibility</option>#}
{#                                <option value="study-b">EPIC/ORIGINS</option>#}
{#                                <option value="study-c">Brainwalk</option>#}
{#                                <option value="study-d">DeepNeuro</option>#}
{#                            </select>#}
{#                        </div>#}
{##}
{#                        <!-- Biomaterials -->#}
{#                        <h3 class="section-heading">Sample Information</h3>#}
{##}
{#                        <div class="form-group">#}
{#                            <label for="biomaterial-type" class="required">Biomaterial Type</label>#}
{#                            <select id="biomaterial-type" class="pure-input-1" required>#}
{#                                <option value="" disabled selected>Select biomaterial</option>#}
{#                                <option value="serum">Serum</option>#}
{#                                <option value="plasma">Plasma</option>#}
{#                                <option value="dna">DNA</option>#}
{#                                <option value="pbmc">PBMCs</option>#}
{#                            </select>#}
{#                        </div>#}
{##}
{#                        <div class="form-group">#}
{#                            <label>Sample Volume/Quantity</label>#}
{#                            <div class="pure-g">#}
{#                                <div class="pure-u-1 pure-u-md-1-2">#}
{#                                    <div style="padding-right: 1em;">#}
{#                                        <input type="number" id="sample-quantity" class="pure-input-1" placeholder="Quantity">#}
{#                                    </div>#}
{#                                </div>#}
{#                                <div class="pure-u-1 pure-u-md-1-2">#}
{#                                    <select id="sample-unit" class="pure-input-1">#}
{#                                        <option value="ml">mL</option>#}
{#                                        <option value="ug">Î¼g</option>#}
{#                                        <option value="mg">mg</option>#}
{#                                        <option value="vials">vials</option>#}
{#                                    </select>#}
{#                                </div>#}
{#                            </div>#}
{#                        </div>#}
{##}
{#                        <!-- Demographics -->#}
{#                        <h3 class="section-heading">Demographics</h3>#}
{##}
{#                        <div class="form-group">#}
{#                            <div class="pure-g">#}
{#                                <div class="pure-u-1 pure-u-md-1-2">#}
{#                                    <label>Sex</label>#}
{#                                    <select id="sex" class="pure-input-1">#}
{#                                        <option value="" disabled selected>Select</option>#}
{#                                        <option value="ml">Female only</option>#}
{#                                        <option value="ug">Male only</option>#}
{#                                        <option value="mg">Both/either</option>#}
{#                                    </select>#}
{#                                </div>#}
{#                                <div class="pure-u-1 pure-u-md-1-2">#}
{#                                    <label>Race</label>#}
{#                                    <select id="race" class="pure-input-1">#}
{#                                        <option value="" disabled selected>Select</option>#}
{#                                        <option value="aa">African American</option>#}
{#                                        <option value="wh">White</option>#}
{#                                        <option value="as">Asian</option>#}
{#                                        <option value="na">Native American</option>#}
{#                                        <option value="pi">Hawaiian/Pacific Islander</option>#}
{#                                    </select>#}
{#                                </div>#}
{#                            </div>#}
{#                        </div>#}
{##}
{#                        <div class="pure-g">#}
{#                            <div class="pure-u-1 pure-u-md-1-3">#}
{#                                <div class="form-group" style="padding-right: 1em;">#}
{#                                    <label for="age-min">Age Range (Min)</label>#}
{#                                    <input id="age-min" type="number" min="0" max="120" class="pure-input-1" placeholder="Minimum">#}
{#                                </div>#}
{#                            </div>#}
{##}
{#                            <div class="pure-u-1 pure-u-md-1-3">#}
{#                                <div class="form-group" style="padding-right: 1em;">#}
{#                                    <label for="age-max">Age Range (Max)</label>#}
{#                                    <input id="age-max" type="number" min="0" max="120" class="pure-input-1" placeholder="Maximum">#}
{#                                </div>#}
{#                            </div>#}
{##}
{#                            <div class="pure-u-1 pure-u-md-1-3">#}
{#                                <div class="form-group">#}
{#                                    <label for="disease-status">Disease Status</label>#}
{#                                    <select id="disease-status" class="pure-input-1">#}
{#                                        <option value="" disabled selected>Select status</option>#}
{#                                        <option value="all">All</option>#}
{#                                        <option value="affected">Affected (Cases)</option>#}
{#                                        <option value="healthy">Healthy Controls</option>#}
{#                                    </select>#}
{#                                </div>#}
{#                            </div>#}
{#                        </div>#}
{##}
{#                        <!-- Additional Information -->#}
{#                        <h3 class="section-heading">Additional Information</h3>#}
{##}
{#                        <div class="form-group">#}
{#                            <label for="additional-variables">Additional Variables</label>#}
{#                            <textarea id="additional-variables" class="pure-input-1" style="min-height: 100px;" placeholder="List any additional variables or specific data points needed (e.g., BMI, blood pressure, glucose levels, etc.)"></textarea>#}
{#                        </div>#}
{##}
{#                        <div class="form-group">#}
{#                            <label for="data-purpose">Purpose of Data Request</label>#}
{#                            <textarea id="data-purpose" class="pure-input-1" style="min-height: 100px;" placeholder="Briefly describe how this data will be used in your research"></textarea>#}
{#                        </div>#}
{##}
{#                        <div class="pure-g">#}
{#                            <div class="pure-u-1" style="text-align: center;">#}
{#                                <button type="submit" class="pure-button submit-button">Submit Request</button>#}
{#                            </div>#}
{#                        </div>#}
{##}
{#                        <p class="helper-text" style="text-align: center; margin-top: 1em;">#}
{#                            Fields marked with * are required. Once submitted, your request will be reviewed within 5 business days.#}
{#                        </p>#}
{#                    </fieldset>#}
{#                </form>#}
{#            </div>#}
{#        </div>#}
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.0/papaparse.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>

{% endblock %}

